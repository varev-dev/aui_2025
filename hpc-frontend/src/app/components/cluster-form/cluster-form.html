<div class="container">
  <div class="form-header">
    <h1>{{ isEditMode ? 'Edit Cluster' : 'Create New Cluster' }}</h1>
  </div>

  <div *ngIf="loading && isEditMode" class="loading">
    Loading cluster data...
  </div>

  <div *ngIf="error" class="error">
    {{ error }}
  </div>

  <form [formGroup]="clusterForm" (ngSubmit)="onSubmit()" *ngIf="!loading || !isEditMode">
    <div class="form-group">
      <label for="name">Cluster Name *</label>
      <input 
        type="text" 
        id="name" 
        formControlName="name"
        [class.invalid]="isFieldInvalid('name')"
        placeholder="e.g., Production Cluster A"
      >
      <div class="error-message" *ngIf="isFieldInvalid('name')">
        {{ getErrorMessage('name') }}
      </div>
    </div>

    <div class="form-group">
      <label for="location">Location *</label>
      <input 
        type="text" 
        id="location" 
        formControlName="location"
        [class.invalid]="isFieldInvalid('location')"
        placeholder="e.g., Data Center 1 - Warsaw"
      >
      <div class="error-message" *ngIf="isFieldInvalid('location')">
        {{ getErrorMessage('location') }}
      </div>
    </div>

    <div class="form-actions">
      <button type="submit" class="btn btn-primary" [disabled]="loading">
        {{ loading ? 'Saving...' : (isEditMode ? 'Update Cluster' : 'Create Cluster') }}
      </button>
      <button type="button" class="btn btn-secondary" (click)="cancel()" [disabled]="loading">
        Cancel
      </button>
    </div>
  </form>
</div>
